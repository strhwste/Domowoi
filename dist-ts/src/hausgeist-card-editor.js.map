{"version":3,"file":"hausgeist-card-editor.js","sourceRoot":"","sources":["../../src/hausgeist-card-editor.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, html } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\nimport { SENSOR_KEYWORDS } from './sensor-keywords';\n\n@customElement('hausgeist-card-editor')\nexport class HausgeistCardEditor extends LitElement {\n  @property({ type: Object }) config: { \n    debug?: boolean, \n    overrides?: Record<string, Record<string, string>>, \n    areas?: Array<{ area_id: string; name: string; enabled?: boolean }>, \n    auto?: Record<string, Record<string, string>>,\n    weather_entity?: string,\n    default_target?: number\n  } = {};\n  private _hass: any = undefined;\n  @property({ type: Object }) testValues: { [key: string]: any } = {};\n  @property({ type: String }) rulesJson = '';\n  @property({ type: Boolean }) notify = false;\n  @property({ type: Number }) highThreshold = 2000;\n  private _lastAreas: Array<{ area_id: string; name: string; enabled?: boolean }> = [];\n\n  private _autodetect(areaId: string, type: string): string | undefined {\n    const states = Object.values(this.hass?.states || {});\n    // 1. device_class\n    let s = states.find((st: any) => st.attributes?.area_id === areaId && st.attributes?.device_class === type) as any;\n    if (s && s.entity_id) return s.entity_id;\n    \n\n    // 2. keywords from centralized list\n    const kw = SENSOR_KEYWORDS[type] || [type];\n    s = states.find((st: any) => st.attributes?.area_id === areaId && kw.some(k => \n      st.entity_id.toLowerCase().includes(k) || \n      (st.attributes.friendly_name||'').toLowerCase().includes(k)\n    )) as any;\n\n    if (s && s.entity_id) return s.entity_id;\n    \n    // 3. fallback: area name\n    const areaName = (this.hass?.areas && this.hass.areas[areaId]?.name?.toLowerCase()) || areaId.toLowerCase();\n    s = states.find((st: any) => (\n      st.entity_id.toLowerCase().includes(areaName) || \n      (st.attributes.friendly_name||'').toLowerCase().includes(areaName)\n    ) && kw.some(k => st.entity_id.toLowerCase().includes(k))) as any;\n    return s && s.entity_id ? s.entity_id : undefined;\n  }\n\n  setConfig(config: any) {\n    this.config = config;\n  }\n  // Getter and setter for hass\n  get hass() {\n    return this._hass;\n  }\n  set hass(hass: any) {\n    this._hass = hass;\n    this.requestUpdate();\n  }\n\n  // Use arrow function to auto-bind 'this'\n  _onDebugChange = (e: Event) => {\n    const debug = (e.target as HTMLInputElement).checked;\n    this.config = { ...this.config, debug };\n    this._configChanged();\n  };\n  // Handle sensor selection change for a specific area and type\n  private _onAreaSensorChange(areaId: string, type: string, e: Event) {\n    const entity_id = (e.target as HTMLSelectElement).value;\n    const overrides = { ...(this.config.overrides || {}) };\n    overrides[areaId] = { ...(overrides[areaId] || {}), [type]: entity_id };\n    this.config = { ...this.config, overrides };\n    this._configChanged();\n  }\n\n  // Dispatch a custom event to notify that the config has changed\n  _configChanged() {\n    // Always include the current areas in the config\n    if (this._lastAreas && Array.isArray(this._lastAreas)) {\n      // Build auto-mapping: auto[area_id][type] = entity_id (wie im Editor angezeigt)\n      const auto: Record<string, Record<string, string>> = {};\n      const areas = this._lastAreas;\n      const sensorTypes = [\n        'temperature', 'humidity', 'co2', 'window', 'door', 'curtain', 'blind', 'heating', 'target'\n      ];\n\n      // Debug: Show all states with their area_ids\n      if (this.config.debug) {\n        const states = Object.values(this.hass?.states || {});\n        console.log('All states with area_ids:', \n          states.filter((s: any) => s.attributes?.area_id)\n            .map((s: any) => `${s.entity_id} (${s.attributes.area_id})`)\n        );\n      }\n\n      for (const area of areas) {\n        auto[area.area_id] = {};\n        for (const type of sensorTypes) {\n          const autoId = this._autodetect(area.area_id, type);\n          if (autoId) auto[area.area_id][type] = autoId;\n          // Debug: Log each detected sensor\n          if (this.config.debug) {\n            console.log(`Auto-detected for ${area.area_id} - ${type}: ${autoId || 'none'}`);\n          }\n        }\n      }\n\n      // Debug: Log the final auto config\n      if (this.config.debug) {\n        console.log('Final auto config:', JSON.stringify(auto, null, 2));\n      }\n\n      this.config = { ...this.config, areas: this._lastAreas, auto };\n    }\n    const event = new CustomEvent('config-changed', {\n      detail: { config: this.config },\n      bubbles: true,\n      composed: true,\n    });\n    this.dispatchEvent(event);\n  }\n\n  // Handle test value changes for a specific area and type\n  handleTestValueChange(areaId: string, type: string, e: any) {\n    const value = e.target.value;\n    this.testValues = { ...this.testValues, [areaId + '_' + type]: value };\n    this.requestUpdate();\n  }\n\n  // Handle changes in the rules JSON text area\n  handleRulesChange(e: any) {\n    this.rulesJson = e.target.value;\n    this._configChanged();\n  }\n\n  // Handle changes in the notification checkbox\n  handleNotifyChange(e: any) {\n    this.notify = e.target.checked;\n    this._configChanged();\n  }\n\n  // Handle changes in the high threshold input\n  handleThresholdChange(e: any) {\n    this.highThreshold = Number(e.target.value);\n    this._configChanged();\n  }\n\n  // Handle area enable/disable\n  private _onAreaEnabledChange(areaId: string, e: Event) {\n    const checked = (e.target as HTMLInputElement).checked;\n    const areas = [...(this.config.areas || this._lastAreas.map(a => ({ ...a })))];\n    const areaIndex = areas.findIndex(a => a.area_id === areaId);\n    if (areaIndex >= 0) {\n      areas[areaIndex] = { ...areas[areaIndex], enabled: checked };\n    } else {\n      areas.push({ area_id: areaId, name: areaId, enabled: checked });\n    }\n    this.config = { ...this.config, areas };\n    this._configChanged();\n  }\n\n  // Render the editor UI\n  render() {\n    const hass = this.hass;\n    // Find all Weather Entities\n    const weatherEntities = Object.entries(hass?.states || {})\n      .filter(([entity_id, state]: [string, any]) => entity_id.startsWith('weather.'))\n      .map(([entity_id, state]: [string, any]) => ({\n        entity_id,\n        name: state.attributes?.friendly_name || entity_id\n      }));\n    \n    const areas: Array<{ area_id: string; name: string }> = hass?.areas\n      ? Object.values(hass.areas)\n      : Array.from(new Set(Object.values(hass?.states || {}).map((e: any) => e.attributes?.area_id).filter(Boolean))).map((area_id: string) => ({ area_id, name: area_id }));\n    \n    this._lastAreas = areas;\n    const states = Object.values(hass?.states || {});\n\n    // Nur die Sensoren die wir pro Raum brauchen\n    const requiredSensorTypes = [\n      'temperature',    // Raumtemperatur\n      'humidity',       // Luftfeuchtigkeit\n      'co2',           // CO2-Gehalt\n      'window',        // Fenster-Status\n      'door',          // Tür-Status\n      'curtain',       // Vorhang-Status\n      'blind',         // Rolladen-Status\n      'heating',       // Heizungs-Status (an/aus)\n      'heating_level', // Heizungs-Level (0-100%)\n      'target'         // Zieltemperatur\n    ];\n\n    const missingSensorsPerArea = areas.map(area => {\n      const missing = requiredSensorTypes.filter(type => {\n        const found = states.some((e: any) => e.attributes?.area_id === area.area_id && (\n          type === 'heating' || type === 'heating_level'\n            ? ['heating', 'heizung', 'thermostat', 'climate'].some(k => e.entity_id.toLowerCase().includes(k))\n            : e.attributes?.device_class === type || (e.entity_id.toLowerCase().includes(type))\n        ));\n        return !found;\n      });\n      return { area, missing };\n    });\n\n    // Styles einbinden\n    return html`\n      <style>\n      .card-config {\n        padding: 1em;\n      }\n      hr { margin: 1em 0; border: none; border-top: 1px solid #ddd; }\n      select { min-width: 200px; }\n      li { margin: 0.2em 0; }\n      .sensor-row {\n        display: flex;\n        align-items: center;\n        gap: 0.5em;\n        margin-bottom: 0.5em;\n      }\n      .target-row {\n        margin-bottom: 1em;\n      }\n      .sensor-label {\n        min-width: 120px;\n        font-weight: bold;\n      }\n      .sensor-select {\n        flex-grow: 1;\n      }\n      .help-text {\n        color: #666;\n        font-size: 0.9em;\n        margin-top: 0.3em;\n      }\n      .weather-info {\n        margin-top: 0.5em;\n        font-size: 0.95em;\n        color: #333;\n      }\n      </style>\n      <div class=\"card-config\">\n      <!-- Debug Mode -->\n      <label>\n        <input type=\"checkbox\" .checked=${this.config.debug ?? false} @change=${this._onDebugChange} />\n        Debug mode\n      </label>\n\n      <!-- Weather Entity Selection -->\n      <div style=\"margin-top:1em;\">\n        <b>Weather Entity:</b>\n        <select \n        @change=${(e: Event) => {\n          this.config = { \n          ...this.config, \n          weather_entity: (e.target as HTMLSelectElement).value \n          };\n          this._configChanged();\n        }}\n        >\n        ${weatherEntities.map(entity => html`\n          <option \n          value=\"${entity.entity_id}\" \n          ?selected=${(this.config.weather_entity || 'weather.home') === entity.entity_id}\n          >\n          ${entity.name} (${entity.entity_id})\n          </option>\n        `)}\n        </select>\n        ${\n        (() => {\n          const selectedWeather = hass?.states?.[this.config.weather_entity || 'weather.home'];\n          if (!selectedWeather) return '';\n          const temp = selectedWeather.attributes?.temperature;\n          const tempUnit = selectedWeather.attributes?.temperature_unit || selectedWeather.attributes?.unit_of_measurement || '°C';\n          // Rain: try precipitation, precipitation_probability, or forecast\n          let rain = selectedWeather.attributes?.precipitation;\n          let rainUnit = selectedWeather.attributes?.precipitation_unit || 'mm';\n          if (rain === undefined && selectedWeather.attributes?.forecast && Array.isArray(selectedWeather.attributes.forecast) && selectedWeather.attributes.forecast.length > 0) {\n          rain = selectedWeather.attributes.forecast[0].precipitation ?? selectedWeather.attributes.forecast[0].rain;\n          rainUnit = selectedWeather.attributes.forecast[0].precipitation_unit || rainUnit;\n          }\n          // Precipitation probability\n          let rainProb = selectedWeather.attributes?.precipitation_probability;\n          if (rainProb === undefined && selectedWeather.attributes?.forecast && Array.isArray(selectedWeather.attributes.forecast) && selectedWeather.attributes.forecast.length > 0) {\n          rainProb = selectedWeather.attributes.forecast[0].precipitation_probability;\n          }\n          return html`\n          <div class=\"weather-info\">\n            Temperatur: ${temp !== undefined ? `${temp} ${tempUnit}` : 'n/a'}\n            <br />\n            Regen: ${rain !== undefined ? `${rain} ${rainUnit}` : 'n/a'}\n            ${rainProb !== undefined ? html`<br />Regenwahrscheinlichkeit: ${rainProb}%` : ''}\n          </div>\n          `;\n        })()\n        }\n      </div>\n\n      <!-- Default Target Temperature -->\n      <div style=\"margin-top:1em;\">\n        <b>Default Target Temperature:</b>\n        <input \n        type=\"number\" \n        min=\"15\" \n        max=\"30\" \n        step=\"0.5\"\n        .value=${this.config.default_target || \"21\"} \n        @change=${(e: Event) => {\n          this.config = {\n          ...this.config,\n          default_target: Number((e.target as HTMLInputElement).value)\n          };\n          this._configChanged();\n        }}\n        />°C\n      </div>\n\n      <hr />\n      <b>Areas and Sensors:</b>\n      ${areas.map(area => {\n        const isEnabled = this.config.areas?.find(a => a.area_id === area.area_id)?.enabled !== false;\n        return html`\n        <div class=\"${isEnabled ? '' : 'disabled-area'}\">\n        <div class=\"area-header\">\n          <input \n          type=\"checkbox\" \n          .checked=${isEnabled} \n          @change=${(e: Event) => this._onAreaEnabledChange(area.area_id, e)}\n          />\n          <b>${area.name || area.area_id}</b>\n        </div>\n        <ul>\n          ${requiredSensorTypes.map(type => {\n          const areaSensors = states.filter((e: any) => e.attributes?.area_id === area.area_id);\n          const matchingByClass = areaSensors.filter((e: any) => e.attributes?.device_class === type);\n          const matchingByKeyword = areaSensors.filter((e: any) => {\n            const keywords = SENSOR_KEYWORDS[type] || [type];\n            return keywords.some(k => \n            e.entity_id.toLowerCase().includes(k) || \n            (e.attributes.friendly_name || '').toLowerCase().includes(k)\n            ) && !matchingByClass.includes(e);\n          });\n          const otherSensors = areaSensors.filter(s => \n            !matchingByClass.includes(s) && !matchingByKeyword.includes(s)\n          );\n\n          const autoId = this._autodetect(area.area_id, type);\n          // Zeige ALLE Entities aus dem Bereich: area_id direkt ODER device_id->area_id\n          const allEntities = Object.values(this.hass?.states || {});\n          const devices = this.hass?.devices || {};\n          const relevantEntities = allEntities.filter((e: any) => {\n            if (e.attributes?.area_id === area.area_id) return true;\n            if (e.attributes?.device_id && devices[e.attributes.device_id]?.area_id === area.area_id) return true;\n            return false;\n          });\n          relevantEntities.sort((a: any, b: any) => (a.attributes.friendly_name || a.entity_id).localeCompare(b.attributes.friendly_name || b.entity_id));\n          const selected = this.config.overrides?.[area.area_id]?.[type] || '';\n\n            return html`\n            <li>\n            <div class=\"sensor-row ${type === 'target' ? 'target-row' : ''}\">\n            <span class=\"sensor-label\">\n            ${type === 'target' ? 'Zieltemperatur' : \n            type === 'heating' ? 'Heizung' :\n            type === 'heating_level' ? 'Heizleistung' :\n            type}:\n            </span>\n            <div class=\"sensor-select\">\n            <select @change=${(e: Event) => this._onAreaSensorChange(area.area_id, type, e)} .value=${selected || ''}>\n            <option value=\"none\">(kein Sensor ausgewählt)</option>\n            \n            ${relevantEntities.map((s: any) => html`\n              <option \n                value=\"${s.entity_id}\" \n                ?selected=${selected === s.entity_id}\n                title=\"${s.attributes.friendly_name || s.entity_id} [${s.state}${s.attributes.unit_of_measurement ? s.attributes.unit_of_measurement : ''}]${s.attributes.device_class ? ` (${s.attributes.device_class})` : ''}${s.attributes.area_id ? ` (Bereich: ${this.hass.areas?.[s.attributes.area_id]?.name || s.attributes.area_id})` : ''}\"\n              >\n                ${s.attributes.friendly_name || s.entity_id} \n                [${s.state}${s.attributes.unit_of_measurement ? s.attributes.unit_of_measurement : ''}]\n                ${s.attributes.device_class ? ` (${s.attributes.device_class})` : ''}\n                ${s.attributes.area_id ? ` (Bereich: ${this.hass.areas?.[s.attributes.area_id]?.name || s.attributes.area_id})` : ''}\n              </option>\n            `)}\n            </select>\n            ${type === 'target' ? html`\n            <div class=\"help-text\">\n            Wählen Sie einen Sensor für die Zieltemperatur aus oder lassen Sie es leer, \n            um den Standard-Wert von ${this.config.default_target || 21}°C zu verwenden.\n            </div>\n            ` : ''}\n          </div>\n          </div>\n          </li>\n          `;\n          })}\n        </ul>\n        </div>\n      `})}\n      </div>\n\n      <!-- Missing Sensors per Area -->\n      <div style=\"margin-top:1em;\">\n      <b>Fehlende Sensoren pro Bereich:</b>\n      <ul>\n        ${missingSensorsPerArea.map(a => html`<li><b>${a.area.name}</b>: ${a.missing.length === 0 ? 'Alle gefunden' : a.missing.join(', ')}</li>`)}\n      </ul>\n      </div>\n\n      <!-- Notifications & High Threshold -->\n      <div style=\"margin-top:1em;\">\n      <label><input type=\"checkbox\" .checked=${this.notify} @change=${this.handleNotifyChange} /> Regel-Treffer als Home Assistant Notification anzeigen</label>\n      </div>\n      <div style=\"margin-top:1em;\">\n      <label>High Threshold: <input type=\"number\" .value=${this.highThreshold} @input=${this.handleThresholdChange} /></label>\n      </div>\n    `;\n  }\n}\n"]}